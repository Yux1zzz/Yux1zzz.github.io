<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.2.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"yux1.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Yux1的个人博客">
<meta property="og:url" content="http://yux1.github.io/index.html">
<meta property="og:site_name" content="Yux1的个人博客">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Yux1">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://yux1.github.io/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Yux1的个人博客</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Yux1的个人博客</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Yux1</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">3</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://yux1.github.io/year/06/21/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yux1">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yux1的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Yux1的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/year/06/21/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-06-21 21:45:44" itemprop="dateCreated datePublished" datetime="2024-06-21T21:45:44+08:00">2024-06-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-06-22 02:10:25" itemprop="dateModified" datetime="2024-06-22T02:10:25+08:00">2024-06-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="数据结构与算法"><a href="#数据结构与算法" class="headerlink" title="数据结构与算法"></a>数据结构与算法</h1><h2 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h2><p><strong>数据结构</strong> 包括 <strong>线性结构</strong> 与 <strong>非线性结构</strong></p>
<p><strong>线性结构</strong>分为<strong>顺序存储结构</strong>（顺序表）与<strong>链式存储结构</strong>（链表）</p>
<p><strong>线性结构</strong>：数组、队列、链表、栈</p>
<p><strong>非线性结构</strong>：二维数组、多维数组、广义表、树结构、图结构</p>
<h3 id="稀疏数组SparseArray"><a href="#稀疏数组SparseArray" class="headerlink" title="稀疏数组SparseArray"></a>稀疏数组SparseArray</h3><p>当一个数组中大部分元素都为0，或者是同一个元素时，可以使用稀疏数组来保存该数组。</p>
<h4 id="处理思路："><a href="#处理思路：" class="headerlink" title="处理思路："></a>处理思路：</h4><p>1.记录数组一共有几行几列，有多少个不同的值</p>
<p>2.把具有不同值的元素的行、列及值记录在一个小规模的数组中</p>
<h4 id="二维数组转稀疏数组的方法："><a href="#二维数组转稀疏数组的方法：" class="headerlink" title="二维数组转稀疏数组的方法："></a><strong>二维数组</strong>转<strong>稀疏数组</strong>的方法：</h4><p>1.遍历原始的二维数组，得到有效数据的个数<em>sum</em></p>
<p>2.根据sum创建稀疏数组<code>int[sum + 1][3] sparseArray</code></p>
<p>3.将原数组中的有效数据转存入稀疏数组</p>
<h4 id="稀疏数组转二维数组的方法："><a href="#稀疏数组转二维数组的方法：" class="headerlink" title="稀疏数组转二维数组的方法："></a><strong>稀疏数组</strong>转<strong>二维数组</strong>的方法：</h4><p>1.读取稀疏数组的第一行，以此创建新的二维数组</p>
<p>2.读取稀疏数组后几行的数据，并赋值给二维数组</p>
<h4 id="示例："><a href="#示例：" class="headerlink" title="示例："></a><strong>示例：</strong></h4><details>
    <summary>点我展开完整代码</summary>
    <pre><code>
    public class SparseArray &#123;
    public static void main(String[] args)&#123;
        int[][] intArray_1;
        intArray_1 = new int[][]
                &#123;&#123;0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0&#125;,
                &#123;0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0&#125;,
                &#123;0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0&#125;,
                &#123;0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0&#125;,
                &#123;0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0&#125;,
                &#123;0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0&#125;,
                &#123;0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0&#125;,
                &#123;0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0&#125;,
                &#123;0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0&#125;,
                &#123;0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0&#125;,
                &#123;0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0&#125;&#125;;
        printArray(intArray_1);
        int[][] sparseArray;
        sparseArray = intToSparse(intArray_1);
        printArray(sparseArray);
        int[][] intArray_2;
        intArray_2 = sparseToInt(sparseArray);
        printArray(intArray_2);
    &#125;
    public static int[][] intToSparse(int[][] intArray)&#123;
        int sum = 0;
        for (int i = 0; i < intArray.length; i++)&#123;
            for (int j = 0; j < intArray[i].length; j++)&#123;
                if (intArray[i][j] != 0)&#123;
                    sum++;
                &#125;
            &#125;
        &#125;
        int[][] sparseArray = new int[sum + 1][3];
        sparseArray[0][0] = intArray.length;
        sparseArray[0][1] = intArray[0].length;
        sparseArray[0][2] = sum;
        int count = 1;
        for (int i = 0; i < intArray.length; i++)&#123;
            for (int j = 0; j < intArray[i].length; j++)&#123;
                if (intArray[i][j] != 0)&#123;
                    sparseArray[count][0] = i;
                    sparseArray[count][1] = j;
                    sparseArray[count][2] = intArray[i][j];
                    count++;
                &#125;
            &#125;
        &#125;
        return sparseArray;
    &#125;
    public static int[][] sparseToInt(int[][] sparseArray)&#123;
        int[][] intArray;
        intArray = new int[sparseArray[0][0]][sparseArray[0][1]];
        for (int i = 0; i < intArray.length; i++)&#123;
            Arrays.fill(intArray[i], 0);
        &#125;
        for (int i = 1; i < sparseArray.length; i++)&#123;
            intArray[sparseArray[i][0]][sparseArray[i][1]] = sparseArray[i][2];
        &#125;
        return intArray;
    &#125;
    public static void printArray(int[][] array)&#123;
        for (int i = 0; i < array.length; i++)&#123;
            for (int j = 0; j < array[i].length; j++)&#123;
                System.out.print(array[i][j] + "  ");
            &#125;
            System.out.println();
        &#125;
    &#125;
&#125;
    </code></pre>
</details>



<h3 id="队列Queue"><a href="#队列Queue" class="headerlink" title="队列Queue"></a>队列Queue</h3><ul>
<li><strong>队列</strong>是一个有序列表，可以用<strong>数组</strong>或是<strong>列表</strong>来实现</li>
<li>遵循<u><strong>先进先出</strong></u>的原则</li>
</ul>
<h4 id="数组实现队列："><a href="#数组实现队列：" class="headerlink" title="数组实现队列："></a>数组实现队列：</h4><p>因为队列的输出与出入分别从前后端进行处理，所以需要两个变量<em>front</em>及<em>rear</em>分别记录队列前后端的下标，<em>front</em>随数据输出而改变，而<em>rear</em>随数据输入而改变</p>
<h4 id="示例：-1"><a href="#示例：-1" class="headerlink" title="示例："></a>示例：</h4><details>
    <summary>点我展开完整代码</summary>
    <pre><code>
    class QueueArray {
    //队列的最大元素个数
    private int maxSize;
    //用于保存队列数据的数组
    private int[] queueArray;
    //队列前后端的下标
    private int front;
    private int rear;
    //初始化
    public QueueArray(int maxSize){
        this.maxSize = maxSize;
        this.queueArray = new int[maxSize];
        this.front = -1;  //指向队列头的前一个数据
        this.rear = -1;  //指向队列尾的数据
    }
    //添加数据
    public void addQueue(int num){
        if (!isFull()){
            queueArray[rear + 1] = num;
            rear++;
            System.out.println("已将数据" + num + "添加到队列中，位置为" + rear);
        }
        else {
            System.out.println("队列已满，不能再添加数据");
        }
    }
    //获取数据
    public int getQueue(){
        if (!isEmpty()){
            front++;
            return queueArray[front];
        }
        else {
            throw new RuntimeException("队列为空，不能取出数据");
        }
    }
    //显示队列的所有数据
    public void showQueue(){
        if (!isEmpty()){
            for (int i = 0; i < queueArray.length; i++){
                System.out.print(queueArray[i] + "  ");
            }
        }
        else {
            System.out.println("队列空，无法读取数据");
        }
    }
    //显示队列的头部数据
    public int showHeadQueue(){
        if (!isEmpty()){
            return queueArray[front + 1];
        }
        else {
            throw new RuntimeException("队列为空，无法获取数据");
        }
    }
    //判断队列是否已满
    public boolean isFull(){
        return rear == maxSize - 1;
    }
    //判断队列是否为空
    public boolean isEmpty(){
        return front == rear;
    }
}
    <code><pre>
<details>



<p><strong>存在的问题</strong>：因为数组只能使用一次，所以队列满后即便取出前端数据也不能再添加数据</p>
<p><strong>改进方法</strong>：利用数组实现环形队列</p>
<h4 id="数组实现环形队列："><a href="#数组实现环形队列：" class="headerlink" title="数组实现环形队列："></a>数组实现环形队列：</h4>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://yux1.github.io/year/06/19/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yux1">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yux1的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Yux1的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/year/06/19/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-06-19 23:51:06" itemprop="dateCreated datePublished" datetime="2024-06-19T23:51:06+08:00">2024-06-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-06-23 00:59:19" itemprop="dateModified" datetime="2024-06-23T00:59:19+08:00">2024-06-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="MySQL学习笔记"><a href="#MySQL学习笔记" class="headerlink" title="MySQL学习笔记"></a>MySQL学习笔记</h1><p><em>From 黑马程序员</em>    <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Kr4y1i7ru/?p=9&spm_id_from=333.1007">黑马程序员 MySQL数据库入门到精通，从mysql安装到mysql高级、mysql优化全囊括</a></p>
<h2 id="SQL语句"><a href="#SQL语句" class="headerlink" title="SQL语句"></a>SQL语句</h2><h3 id="通用语法及分类"><a href="#通用语法及分类" class="headerlink" title="通用语法及分类"></a>通用语法及分类</h3><ul>
<li>DDL: 数据定义语言，用来定义数据库对象（数据库、表、字段）</li>
<li>DML: 数据操作语言，用来对数据库表中的数据进行增删改</li>
<li>DQL: 数据查询语言，用来查询数据库中表的记录</li>
<li>DCL: 数据控制语言，用来创建数据库用户、控制数据库的控制权限</li>
</ul>
<h3 id="DDL（数据定义语言）"><a href="#DDL（数据定义语言）" class="headerlink" title="DDL（数据定义语言）"></a>DDL（数据定义语言）</h3><h4 id="数据库操作"><a href="#数据库操作" class="headerlink" title="数据库操作"></a>数据库操作</h4><h5 id="查询所有数据库："><a href="#查询所有数据库：" class="headerlink" title="查询所有数据库："></a>查询所有数据库：</h5><p><code>SHOW DATABASES;</code></p>
<h5 id="查询当前数据库："><a href="#查询当前数据库：" class="headerlink" title="查询当前数据库："></a>查询当前数据库：</h5><p><code>SELECT DATABASE();</code></p>
<h5 id="创建数据库："><a href="#创建数据库：" class="headerlink" title="创建数据库："></a>创建数据库：</h5><p><code>CREATE DATABASE [ IF NOT EXISTS ] 数据库名 [ DEFAULT CHARSET 字符集] [COLLATE 排序规则 ];</code></p>
<h5 id="删除数据库："><a href="#删除数据库：" class="headerlink" title="删除数据库："></a>删除数据库：</h5><p><code>DROP DATABASE [ IF EXISTS ] 数据库名;</code></p>
<h5 id="使用数据库："><a href="#使用数据库：" class="headerlink" title="使用数据库："></a>使用数据库：</h5><p><code>USE 数据库名;</code></p>
<h4 id="表操作"><a href="#表操作" class="headerlink" title="表操作"></a>表操作</h4><h5 id="查询当前数据库所有表："><a href="#查询当前数据库所有表：" class="headerlink" title="查询当前数据库所有表："></a>查询当前数据库所有表：</h5><p><code>SHOW TABLES;</code></p>
<h5 id="查询表结构："><a href="#查询表结构：" class="headerlink" title="查询表结构："></a>查询表结构：</h5><p><code>DESC 表名;</code></p>
<h5 id="查询指定表的建表语句："><a href="#查询指定表的建表语句：" class="headerlink" title="查询指定表的建表语句："></a>查询指定表的建表语句：</h5><p><code>SHOW CREATE TABLE 表名;</code></p>
<h5 id="创建表："><a href="#创建表：" class="headerlink" title="创建表："></a>创建表：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE 表名(</span><br><span class="line">	字段1 字段1类型 [COMMENT 字段1注释],</span><br><span class="line">	字段2 字段2类型 [COMMENT 字段2注释],</span><br><span class="line">	字段3 字段3类型 [COMMENT 字段3注释],</span><br><span class="line">	...</span><br><span class="line">	字段n 字段n类型 [COMMENT 字段n注释]</span><br><span class="line">)[ COMMENT 表注释 ];</span><br></pre></td></tr></table></figure>

<h5 id="修改表名："><a href="#修改表名：" class="headerlink" title="修改表名："></a>修改表名：</h5><p><code>ALTER TABLE 表名 RENAME TO 新表名</code></p>
<h5 id="删除表："><a href="#删除表：" class="headerlink" title="删除表："></a>删除表：</h5><p><code>DROP TABLE [IF EXISTS] 表名;</code></p>
<h5 id="删除表，并重新创建该表："><a href="#删除表，并重新创建该表：" class="headerlink" title="删除表，并重新创建该表："></a>删除表，并重新创建该表：</h5><p><code>TRUNCATE TABLE 表名;</code></p>
<h5 id="添加字段："><a href="#添加字段：" class="headerlink" title="添加字段："></a>添加字段：</h5><p><code>ALTER TABLE 表名 ADD 字段名 类型(长度) [COMMENT 注释] [约束];</code></p>
<h5 id="修改数据类型："><a href="#修改数据类型：" class="headerlink" title="修改数据类型："></a>修改数据类型：</h5><p><code>ALTER TABLE 表名 MODIFY 字段名 新数据类型(长度);</code></p>
<h5 id="修改字段名和字段类型："><a href="#修改字段名和字段类型：" class="headerlink" title="修改字段名和字段类型："></a>修改字段名和字段类型：</h5><p><code>ALTER TABLE 表名 CHANGE 旧字段名 新字段名 类型(长度) [COMMENT 注释] [约束];</code></p>
<h5 id="删除字段："><a href="#删除字段：" class="headerlink" title="删除字段："></a>删除字段：</h5><p><code>ALTER TABLE 表名 DROP 字段名;</code></p>
<h3 id="DML（数据操作语言）"><a href="#DML（数据操作语言）" class="headerlink" title="DML（数据操作语言）"></a>DML（数据操作语言）</h3><h4 id="添加数据"><a href="#添加数据" class="headerlink" title="添加数据"></a>添加数据</h4><h5 id="指定字段："><a href="#指定字段：" class="headerlink" title="指定字段："></a>指定字段：</h5><p><code>INSERT INTO 表名 (字段名1, 字段名2, ...) VALUES (值1, 值2, ...);</code></p>
<h5 id="全部字段："><a href="#全部字段：" class="headerlink" title="全部字段："></a>全部字段：</h5><p><code>INSERT INTO 表名 VALUES (值1, 值2, ...);</code></p>
<h5 id="批量添加数据："><a href="#批量添加数据：" class="headerlink" title="批量添加数据："></a>批量添加数据：</h5><p><code>INSERT INTO 表名 (字段名1, 字段名2, ...) VALUES (值1, 值2, ...), (值1, 值2, ...), (值1, 值2, ...);</code><br><code>INSERT INTO 表名 VALUES (值1, 值2, ...), (值1, 值2, ...), (值1, 值2, ...);</code></p>
<h4 id="更新和删除数据"><a href="#更新和删除数据" class="headerlink" title="更新和删除数据"></a>更新和删除数据</h4><h5 id="修改数据："><a href="#修改数据：" class="headerlink" title="修改数据："></a>修改数据：</h5><p><code>UPDATE 表名 SET 字段名1 = 值1, 字段名2 = 值2, ... [ WHERE 条件 ];</code></p>
<h5 id="删除数据："><a href="#删除数据：" class="headerlink" title="删除数据："></a>删除数据：</h5><p><code>DELETE FROM 表名 [ WHERE 条件 ];</code></p>
<h3 id="DQL（数据查询语言）"><a href="#DQL（数据查询语言）" class="headerlink" title="DQL（数据查询语言）"></a>DQL（数据查询语言）</h3><p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">	字段列表</span><br><span class="line">FROM</span><br><span class="line">	表名字段</span><br><span class="line">WHERE</span><br><span class="line">	条件列表</span><br><span class="line">GROUP BY</span><br><span class="line">	分组字段列表</span><br><span class="line">HAVING</span><br><span class="line">	分组后的条件列表</span><br><span class="line">ORDER BY</span><br><span class="line">	排序字段列表</span><br><span class="line">LIMIT</span><br><span class="line">	分页参数</span><br></pre></td></tr></table></figure>

<h4 id="基础查询"><a href="#基础查询" class="headerlink" title="基础查询"></a>基础查询</h4><h5 id="查询多个字段："><a href="#查询多个字段：" class="headerlink" title="查询多个字段："></a>查询多个字段：</h5><p><code>SELECT 字段1, 字段2, 字段3, ... FROM 表名;</code><br><code>SELECT * FROM 表名;</code></p>
<h5 id="设置别名："><a href="#设置别名：" class="headerlink" title="设置别名："></a>设置别名：</h5><p><code>SELECT 字段1 [ AS 别名1 ], 字段2 [ AS 别名2 ], 字段3 [ AS 别名3 ], ... FROM 表名;</code><br><code>SELECT 字段1 [ 别名1 ], 字段2 [ 别名2 ], 字段3 [ 别名3 ], ... FROM 表名;</code></p>
<h5 id="去除重复记录："><a href="#去除重复记录：" class="headerlink" title="去除重复记录："></a>去除重复记录：</h5><p><code>SELECT DISTINCT 字段列表 FROM 表名;</code></p>
<h4 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h4><p>语法：<br><code>SELECT 字段列表 FROM 表名 WHERE 条件列表;</code></p>
<p>条件：</p>
<table>
<thead>
<tr>
<th>比较运算符</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>&gt;</td>
<td>大于</td>
</tr>
<tr>
<td>&gt;&#x3D;</td>
<td>大于等于</td>
</tr>
<tr>
<td>&lt;</td>
<td>小于</td>
</tr>
<tr>
<td>&lt;&#x3D;</td>
<td>小于等于</td>
</tr>
<tr>
<td>&#x3D;</td>
<td>等于</td>
</tr>
<tr>
<td>&lt;&gt; 或 !&#x3D;</td>
<td>不等于</td>
</tr>
<tr>
<td>BETWEEN … AND …</td>
<td>在某个范围内（含最小、最大值）</td>
</tr>
<tr>
<td>IN(…)</td>
<td>在in之后的列表中的值，多选一</td>
</tr>
<tr>
<td>LIKE 占位符</td>
<td>模糊匹配（_匹配单个字符，%匹配任意个字符）</td>
</tr>
<tr>
<td>IS NULL</td>
<td>是NULL</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>逻辑运算符</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>AND 或 &amp;&amp;</td>
<td>并且（多个条件同时成立）</td>
</tr>
<tr>
<td>OR 或 ||</td>
<td>或者（多个条件任意一个成立）</td>
</tr>
<tr>
<td>NOT 或 !</td>
<td>非，不是</td>
</tr>
</tbody></table>
<h4 id="聚合查询（聚合函数）"><a href="#聚合查询（聚合函数）" class="headerlink" title="聚合查询（聚合函数）"></a>聚合查询（聚合函数）</h4><p>语法：<br><code>SELECT 聚合函数(字段列表) FROM 表名;</code></p>
<p>常见聚合函数：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>count</td>
<td>统计数量</td>
</tr>
<tr>
<td>max</td>
<td>最大值</td>
</tr>
<tr>
<td>min</td>
<td>最小值</td>
</tr>
<tr>
<td>avg</td>
<td>平均值</td>
</tr>
<tr>
<td>sum</td>
<td>求和</td>
</tr>
</tbody></table>
<h4 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h4><p>语法：<br><code>SELECT 字段列表 FROM 表名 [ WHERE 条件 ] GROUP BY 分组字段名 [ HAVING 分组后的过滤条件 ];</code></p>
<h5 id="where-和-having-的区别："><a href="#where-和-having-的区别：" class="headerlink" title="where 和 having 的区别："></a>where 和 having 的区别：</h5><ul>
<li>执行时机不同：where是分组之前进行过滤，不满足where条件不参与分组；having是分组后对结果进行过滤。</li>
<li>判断条件不同：where不能对聚合函数进行判断，而having可以。</li>
</ul>
<h5 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h5><ul>
<li>执行顺序：where &gt; 聚合函数 &gt; having</li>
<li>分组之后，查询的字段一般为聚合函数和分组字段，查询其他字段无任何意义</li>
</ul>
<h4 id="排序查询"><a href="#排序查询" class="headerlink" title="排序查询"></a>排序查询</h4><p>语法：<br><code>SELECT 字段列表 FROM 表名 ORDER BY 字段1 排序方式1, 字段2 排序方式2;</code></p>
<p>排序方式：</p>
<ul>
<li>ASC: 升序（默认）</li>
<li>DESC: 降序</li>
</ul>
<h5 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h5><p>如果是多字段排序，当第一个字段值相同时，才会根据第二个字段进行排序</p>
<h4 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h4><p>语法：<br><code>SELECT 字段列表 FROM 表名 LIMIT 起始索引, 查询记录数;</code></p>
<h5 id="注意事项-2"><a href="#注意事项-2" class="headerlink" title="注意事项"></a>注意事项</h5><ul>
<li>起始索引从0开始，起始索引 &#x3D; （查询页码 - 1） * 每页显示记录数</li>
<li>分页查询是数据库的方言，不同数据库有不同实现，MySQL是LIMIT</li>
<li>如果查询的是第一页数据，起始索引可以省略，直接简写 LIMIT 10</li>
</ul>
<h4 id="DQL执行顺序"><a href="#DQL执行顺序" class="headerlink" title="DQL执行顺序"></a>DQL执行顺序</h4><p>FROM -&gt; WHERE -&gt; GROUP BY -&gt; SELECT -&gt; ORDER BY -&gt; LIMIT</p>
<h3 id="DCL（数据控制语言）"><a href="#DCL（数据控制语言）" class="headerlink" title="DCL（数据控制语言）"></a>DCL（数据控制语言）</h3><h4 id="管理用户"><a href="#管理用户" class="headerlink" title="管理用户"></a>管理用户</h4><h5 id="查询用户："><a href="#查询用户：" class="headerlink" title="查询用户："></a>查询用户：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">USE mysql;</span><br><span class="line">SELECT * FROM user;</span><br></pre></td></tr></table></figure>

<h5 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户:"></a>创建用户:</h5><p><code>CREATE USER &#39;用户名&#39;@&#39;主机名&#39; IDENTIFIED BY &#39;密码&#39;;</code></p>
<h5 id="修改用户密码："><a href="#修改用户密码：" class="headerlink" title="修改用户密码："></a>修改用户密码：</h5><p><code>ALTER USER &#39;用户名&#39;@&#39;主机名&#39; IDENTIFIED WITH mysql_native_password BY &#39;新密码&#39;;</code></p>
<h5 id="删除用户："><a href="#删除用户：" class="headerlink" title="删除用户："></a>删除用户：</h5><p><code>DROP USER &#39;用户名&#39;@&#39;主机名&#39;;</code></p>
<h5 id="注意事项-3"><a href="#注意事项-3" class="headerlink" title="注意事项"></a>注意事项</h5><ul>
<li>主机名可以使用 % 通配</li>
</ul>
<h4 id="权限控制"><a href="#权限控制" class="headerlink" title="权限控制"></a>权限控制</h4><p>常用权限：</p>
<table>
<thead>
<tr>
<th>权限</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>ALL, ALL PRIVILEGES</td>
<td>所有权限</td>
</tr>
<tr>
<td>SELECT</td>
<td>查询数据</td>
</tr>
<tr>
<td>INSERT</td>
<td>插入数据</td>
</tr>
<tr>
<td>UPDATE</td>
<td>修改数据</td>
</tr>
<tr>
<td>DELETE</td>
<td>删除数据</td>
</tr>
<tr>
<td>ALTER</td>
<td>修改表</td>
</tr>
<tr>
<td>DROP</td>
<td>删除数据库&#x2F;表&#x2F;视图</td>
</tr>
<tr>
<td>CREATE</td>
<td>创建数据库&#x2F;表</td>
</tr>
</tbody></table>
<p>更多权限请看<a target="_blank" rel="noopener" href="https://jimhackking.github.io/%E8%BF%90%E7%BB%B4/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#%E6%9D%83%E9%99%90%E4%B8%80%E8%A7%88%E8%A1%A8">权限一览表</a></p>
<h5 id="查询权限："><a href="#查询权限：" class="headerlink" title="查询权限："></a>查询权限：</h5><p><code>SHOW GRANTS FOR &#39;用户名&#39;@&#39;主机名&#39;;</code></p>
<h5 id="授予权限："><a href="#授予权限：" class="headerlink" title="授予权限："></a>授予权限：</h5><p><code>GRANT 权限列表 ON 数据库名.表名 TO &#39;用户名&#39;@&#39;主机名&#39;;</code></p>
<h5 id="撤销权限："><a href="#撤销权限：" class="headerlink" title="撤销权限："></a>撤销权限：</h5><p><code>REVOKE 权限列表 ON 数据库名.表名 FROM &#39;用户名&#39;@&#39;主机名&#39;;</code></p>
<h5 id="注意事项-4"><a href="#注意事项-4" class="headerlink" title="注意事项"></a>注意事项</h5><ul>
<li>多个权限用逗号分隔</li>
<li>授权时，数据库名和表名可以用 * 进行通配，代表所有</li>
</ul>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><ul>
<li>字符串函数</li>
<li>数值函数</li>
<li>日期函数</li>
<li>流程函数</li>
</ul>
<h3 id="字符串函数"><a href="#字符串函数" class="headerlink" title="字符串函数"></a>字符串函数</h3><p>常用函数：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>CONCAT(s1, s2, …, sn)</td>
<td>字符串拼接，将s1, s2, …, sn拼接成一个字符串</td>
</tr>
<tr>
<td>LOWER(str)</td>
<td>将字符串全部转为小写</td>
</tr>
<tr>
<td>UPPER(str)</td>
<td>将字符串全部转为大写</td>
</tr>
<tr>
<td>LPAD(str, n, pad)</td>
<td>左填充，用字符串pad对str的左边进行填充，达到n个字符串长度</td>
</tr>
<tr>
<td>RPAD(str, n, pad)</td>
<td>右填充，用字符串pad对str的右边进行填充，达到n个字符串长度</td>
</tr>
<tr>
<td>TRIM(str)</td>
<td>去掉字符串头部和尾部的空格</td>
</tr>
<tr>
<td>SUBSTRING(str, start, len)</td>
<td>返回从字符串str从start位置起的len个长度的字符串（索引值从1开始）</td>
</tr>
<tr>
<td>REPLACE(column, source, replace)</td>
<td>替换字符串</td>
</tr>
</tbody></table>
<h3 id="数值函数"><a href="#数值函数" class="headerlink" title="数值函数"></a>数值函数</h3><p>常见函数：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>CEIL(x)</td>
<td>向上取整</td>
</tr>
<tr>
<td>FLOOR(x)</td>
<td>向下取整</td>
</tr>
<tr>
<td>MOD(x, y)</td>
<td>返回x&#x2F;y的余数</td>
</tr>
<tr>
<td>RAND()</td>
<td>返回0~1内的随机数</td>
</tr>
<tr>
<td>ROUND(x, y)</td>
<td>求参数x的四舍五入值，保留y位小数</td>
</tr>
</tbody></table>
<h3 id="日期函数"><a href="#日期函数" class="headerlink" title="日期函数"></a>日期函数</h3><p>常用函数：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>CURDATE()</td>
<td>返回当前日期</td>
</tr>
<tr>
<td>CURTIME()</td>
<td>返回当前时间</td>
</tr>
<tr>
<td>NOW()</td>
<td>返回当前日期和时间</td>
</tr>
<tr>
<td>YEAR(date)</td>
<td>获取指定date的年份</td>
</tr>
<tr>
<td>MONTH(date)</td>
<td>获取指定date的月份</td>
</tr>
<tr>
<td>DAY(date)</td>
<td>获取指定date的日期</td>
</tr>
<tr>
<td>DATE_ADD(date, INTERVAL expr type)</td>
<td>返回一个日期&#x2F;时间值加上一个时间间隔expr后的时间值</td>
</tr>
<tr>
<td>DATEDIFF(date1, date2)</td>
<td>返回起始时间date1和结束时间date2之间的天数</td>
</tr>
</tbody></table>
<h3 id="流程函数"><a href="#流程函数" class="headerlink" title="流程函数"></a>流程函数</h3><p>常用函数：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>IF(value, t, f)</td>
<td>如果value为true，则返回t，否则返回f</td>
</tr>
<tr>
<td>IFNULL(value1, value2)</td>
<td>如果value1不为空，返回value1，否则返回value2</td>
</tr>
<tr>
<td>CASE WHEN [ val1 ] THEN [ res1 ] … ELSE [ default ] END</td>
<td>如果val1为true，返回res1，… 否则返回default默认值</td>
</tr>
<tr>
<td>CASE [ expr ] WHEN [ val1 ] THEN [ res1 ] … ELSE [ default ] END</td>
<td>如果expr的值等于val1，返回res1，… 否则返回default默认值</td>
</tr>
</tbody></table>
<h2 id="约束"><a href="#约束" class="headerlink" title="约束"></a>约束</h2><p>分类：</p>
<table>
<thead>
<tr>
<th>约束</th>
<th>描述</th>
<th>关键字</th>
</tr>
</thead>
<tbody><tr>
<td>非空约束</td>
<td>限制该字段的数据不能为null</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>唯一约束</td>
<td>保证该字段的所有数据都是唯一、不重复的</td>
<td>UNIQUE</td>
</tr>
<tr>
<td>主键约束</td>
<td>主键是一行数据的唯一标识，要求非空且唯一</td>
<td>PRIMARY KEY</td>
</tr>
<tr>
<td>默认约束</td>
<td>保存数据时，如果未指定该字段的值，则采用默认值</td>
<td>DEFAULT</td>
</tr>
<tr>
<td>检查约束（8.0.1版本后）</td>
<td>保证字段值满足某一个条件</td>
<td>CHECK</td>
</tr>
<tr>
<td>外键约束</td>
<td>用来让两张图的数据之间建立连接，保证数据的一致性和完整性</td>
<td>FOREIGN KEY</td>
</tr>
</tbody></table>
<p>约束是作用于表中字段上的，可以在创建表&#x2F;修改表的时候添加约束。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://yux1.github.io/year/06/17/%E7%94%A8Java%E5%88%B6%E4%BD%9C%E4%BF%84%E7%BD%97%E6%96%AF%E6%96%B9%E5%9D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yux1">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yux1的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Yux1的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/year/06/17/%E7%94%A8Java%E5%88%B6%E4%BD%9C%E4%BF%84%E7%BD%97%E6%96%AF%E6%96%B9%E5%9D%97/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-06-17 00:42:10" itemprop="dateCreated datePublished" datetime="2024-06-17T00:42:10+08:00">2024-06-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-06-18 17:48:08" itemprop="dateModified" datetime="2024-06-18T17:48:08+08:00">2024-06-18</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="用Java制作俄罗斯方块！！"><a href="#用Java制作俄罗斯方块！！" class="headerlink" title="用Java制作俄罗斯方块！！"></a>用Java制作俄罗斯方块！！</h1><p>From 尚学堂（<a target="_blank" rel="noopener" href="https://www.bilibili.com/list/watchlater?oid=932185652&bvid=BV1xM4y157qX&spm_id_from=333.1007.top_right_bar_window_view_later.content.click&p=2%EF%BC%89">https://www.bilibili.com/list/watchlater?oid=932185652&amp;bvid=BV1xM4y157qX&amp;spm_id_from=333.1007.top_right_bar_window_view_later.content.click&amp;p=2）</a></p>
<h2 id="游戏功能："><a href="#游戏功能：" class="headerlink" title="游戏功能："></a>游戏功能：</h2><p>1.通过键盘控制方块移动及旋转</p>
<p>2.某行方块满后消除该行方块</p>
<p>3.可暂停</p>
<p>4.消除方块后积分且方块下落速度随积分增加而加快</p>
<p>5.当最上面四行出现方块则游戏结束</p>
<h2 id="界面演示："><a href="#界面演示：" class="headerlink" title="界面演示："></a>界面演示：</h2><h2 id="制作流程："><a href="#制作流程：" class="headerlink" title="制作流程："></a>制作流程：</h2><h3 id="一丶初始化游戏窗口"><a href="#一丶初始化游戏窗口" class="headerlink" title="一丶初始化游戏窗口"></a>一丶初始化游戏窗口</h3><p>创建游戏类<em>Tetris</em>并继承<em>Jframe</em></p>
<p>创建并实现初始化方法*initWindow()*，在构造方法中初始化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Tetris</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//构造方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Tetris</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//在构造方法里调用初始化窗口</span></span><br><span class="line">        initWindow();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//初始化窗口</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initWindow</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//设置窗口大小</span></span><br><span class="line">        <span class="built_in">this</span>.setSize(<span class="number">600</span>, <span class="number">850</span>);</span><br><span class="line">        <span class="comment">//设置窗口可见</span></span><br><span class="line">        <span class="built_in">this</span>.setVisible(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">//设置窗口居中显示</span></span><br><span class="line">        <span class="built_in">this</span>.setLocationRelativeTo(<span class="literal">null</span>);</span><br><span class="line">        <span class="comment">//设置窗口关闭时的释放程序</span></span><br><span class="line">        <span class="built_in">this</span>.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        <span class="comment">//设置窗口大小不可变</span></span><br><span class="line">        <span class="built_in">this</span>.setResizable(<span class="literal">false</span>);</span><br><span class="line">        <span class="comment">//设置标题</span></span><br><span class="line">        <span class="built_in">this</span>.setTitle(<span class="string">&quot;Yux1sTetris&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>创建游戏主类<em>TetrisGame</em>，在其中<em>main</em>函数内创建<em>Tetris</em>游戏对象</p>
<h3 id="二丶创建游戏界面"><a href="#二丶创建游戏界面" class="headerlink" title="二丶创建游戏界面"></a>二丶创建游戏界面</h3><p>定义游戏中方块的行数（26）与列数（12）作为常量</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">NUMBER_Y</span> <span class="operator">=</span> <span class="number">26</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">NUMBER_X</span> <span class="operator">=</span> <span class="number">12</span>;</span><br></pre></td></tr></table></figure>

<p><u>（不变数据定义为常量的优势？）</u></p>
<p>定义存放文本域与格子的二维数组并初始化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//文本域</span></span><br><span class="line">JTextArea[][] textAreas;</span><br><span class="line"><span class="comment">//方块数组</span></span><br><span class="line"><span class="type">int</span>[][] blocks;  <span class="comment">//规定1代表有方块，0代表无方块</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">Tetris</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//初始化文本域数组</span></span><br><span class="line">    textAreas = <span class="keyword">new</span> <span class="title class_">JTextArea</span>[NUMBER_Y][NUMBER_X];</span><br><span class="line">    <span class="comment">//初始化方块数组</span></span><br><span class="line">    blockAreas = <span class="keyword">new</span> <span class="title class_">int</span>[NUMBER_Y][NUMBER_X];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>创建初始化界面的方法<em>initPanel()</em> 并初始化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initPanel</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">JPanel</span> <span class="variable">gamePanel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line">    <span class="comment">//设置格式布局</span></span><br><span class="line">    gamePanel.setLayout(<span class="keyword">new</span> <span class="title class_">GridLayout</span>(NUMBER_Y, NUMBER_X, <span class="number">1</span>, <span class="number">1</span>));</span><br><span class="line">    <span class="comment">//初始化游戏面板</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; textAreas.length; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; textAreas[i].length; j++)&#123;</span><br><span class="line">            <span class="comment">//设置文本域的行列数</span></span><br><span class="line">            textAreas[i][j] = <span class="keyword">new</span> <span class="title class_">JTextArea</span>(NUMBER_Y, NUMBER_X);</span><br><span class="line">            <span class="comment">//设置背景颜色</span></span><br><span class="line">            textAreas[i][j].setBackground(Color.BLACK);</span><br><span class="line">            <span class="comment">//添加键盘监听事件以便操作  --为类添加KeyListener接口</span></span><br><span class="line">            textAreas[i][j].addKeyListener(<span class="built_in">this</span>);</span><br><span class="line">            <span class="comment">//初始化游戏边界</span></span><br><span class="line">            <span class="comment">//判断行列数是否在边界，如果是则设为边界</span></span><br><span class="line">            <span class="keyword">if</span> (j == <span class="number">0</span> || j == textAreas[i].length - <span class="number">1</span> || i == textAreas.length - <span class="number">1</span>)&#123;</span><br><span class="line">                textAreas[i][j].setBackground(Color.DARK_GRAY);</span><br><span class="line">                blockAreas[i][j] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//设置文本域不可编辑</span></span><br><span class="line">            textAreas[i][j].setEditable(<span class="literal">false</span>);</span><br><span class="line">            <span class="comment">//将文本域添加至游戏面板</span></span><br><span class="line">            gamePanel.add(textAreas[i][j]);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//将游戏界面添加至游戏窗口的中心区域</span></span><br><span class="line">    <span class="built_in">this</span>.setLayout(<span class="keyword">new</span> <span class="title class_">BorderLayout</span>());</span><br><span class="line">    <span class="built_in">this</span>.add(gamePanel, BorderLayout.CENTER);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">Tetris</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//在构造方法里调用初始化界面</span></span><br><span class="line">    initPanel();</span><br><span class="line">    <span class="comment">//在构造方法里调用初始化窗口</span></span><br><span class="line">    initWindow();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="三丶初始化游戏的说明面板"><a href="#三丶初始化游戏的说明面板" class="headerlink" title="三丶初始化游戏的说明面板"></a>三丶初始化游戏的说明面板</h3><p>添加游戏状态<em>gameState</em>与游戏分数<em>gamePoint</em>的变量并初始化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//游戏状态</span></span><br><span class="line">JLabel gameState;</span><br><span class="line"><span class="comment">//游戏分数</span></span><br><span class="line">JLabel gamePoint;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">Tetris</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//初始化游戏状态</span></span><br><span class="line">    gameState = <span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;游戏状态：正在游戏中！&quot;</span>);</span><br><span class="line">    <span class="comment">//初始化游戏分数</span></span><br><span class="line">    gamePoint = <span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;游戏分数：0&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>创建初始化游戏说明面板的方法*initExplainPanel()*并初始化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initExplainPanel</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//创建游戏左右两侧的说明面板（左右护法）并初始化</span></span><br><span class="line">    <span class="type">JPanel</span> <span class="variable">explainPanelLeft</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line">    <span class="type">JPanel</span> <span class="variable">explainPanelRight</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line">    explainPanelLeft.setLayout(<span class="keyword">new</span> <span class="title class_">GridLayout</span>(<span class="number">4</span>, <span class="number">1</span>));</span><br><span class="line">    explainPanelRight.setLayout(<span class="keyword">new</span> <span class="title class_">GridLayout</span>(<span class="number">2</span>, <span class="number">1</span>));</span><br><span class="line">    <span class="comment">//为左面板添加文字</span></span><br><span class="line">    explainPanelLeft.add(<span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;按空格键旋转方块&quot;</span>));</span><br><span class="line">    explainPanelLeft.add(<span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;按A键使方块左移&quot;</span>), Color.WHITE);</span><br><span class="line">    explainPanelLeft.add(<span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;按D键使方块右移&quot;</span>), Color.WHITE);</span><br><span class="line">    explainPanelLeft.add(<span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;按S键使方块加速下落&quot;</span>), Color.WHITE);</span><br><span class="line">    <span class="comment">//为右面板添加文字</span></span><br><span class="line">    gameState.setForeground(Color.GREEN);</span><br><span class="line">    gamePoint.setForeground(Color.RED);</span><br><span class="line">    explainPanelRight.add(gameState);</span><br><span class="line">    explainPanelRight.add(gamePoint);</span><br><span class="line">    <span class="built_in">this</span>.add(explainPanelLeft, BorderLayout.WEST);</span><br><span class="line">    <span class="built_in">this</span>.add(explainPanelRight, BorderLayout.EAST);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">Tetris</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//在构造方法里调用初始化界面</span></span><br><span class="line">    initPanel();</span><br><span class="line">    <span class="comment">//在构造方法里调用初始化说明面板</span></span><br><span class="line">    initExplainPanel();</span><br><span class="line">    <span class="comment">//在构造方法里调用初始化窗口</span></span><br><span class="line">    initWindow();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="四丶开始游戏"><a href="#四丶开始游戏" class="headerlink" title="四丶开始游戏"></a>四丶开始游戏</h3><p>创建保存游戏状态的布尔变量isGameRunning并初始化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//保存游戏状态</span></span><br><span class="line"><span class="type">boolean</span> isGameRunning;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">Tetris</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//初始化游戏状态</span></span><br><span class="line">    gameState = <span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;游戏状态：正在游戏中！&quot;</span>);</span><br><span class="line">    isGameRunning = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>创建开始游戏的方法<em>gameBegin()</em></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">gameBegin</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (isGameRunning)&#123;</span><br><span class="line">        <span class="comment">//gameRun();</span></span><br><span class="line">    &#125;</span><br><span class="line">    gameState.setText(<span class="string">&quot;游戏状态：游戏结束！&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="五丶游戏逻辑"><a href="#五丶游戏逻辑" class="headerlink" title="五丶游戏逻辑"></a>五丶游戏逻辑</h3><h4 id="1-随机生成下落方块"><a href="#1-随机生成下落方块" class="headerlink" title="1.随机生成下落方块"></a>1.随机生成下落方块</h4><p>创建储存类型与当前方块的变量<em>blocks</em>与<em>currentBlock</em></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//存储所有方块的数组</span></span><br><span class="line"><span class="type">int</span>[] blocks;</span><br><span class="line"><span class="comment">//存储当前方块</span></span><br><span class="line"><span class="type">int</span> currentBlock;</span><br></pre></td></tr></table></figure>

<p>用十六进制保存方块形状：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">blocks = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;</span><br><span class="line">        <span class="number">0x00cc</span>, <span class="number">0x0088</span>, <span class="number">0x000f</span>, <span class="number">0x888f</span></span><br><span class="line">        , <span class="number">0xf888</span>, <span class="number">0xf111</span>, <span class="number">0x111f</span>, <span class="number">0x0eee</span></span><br><span class="line">        , <span class="number">0xffff</span>, <span class="number">0x0008</span>, <span class="number">0x0888</span>, <span class="number">0x000e</span></span><br><span class="line">        , <span class="number">0x0088</span>, <span class="number">0x000c</span>, <span class="number">0x08c8</span>, <span class="number">0x00e4</span></span><br><span class="line">        , <span class="number">0x04c4</span>, <span class="number">0x004e</span>, <span class="number">0x08c4</span>, <span class="number">0x006c</span></span><br><span class="line">        , <span class="number">0x04c8</span>, <span class="number">0x00c6</span>&#125;;</span><br></pre></td></tr></table></figure>

<p>随机生成方块的方法<em>randomRect()</em></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">randomRect</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">Random</span> <span class="variable">random</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line"></span><br><span class="line">    currentBlock = blocks[random.nextInt(<span class="number">22</span>)];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-游戏运行"><a href="#2-游戏运行" class="headerlink" title="2.游戏运行"></a>2.游戏运行</h4><p>定义方块坐标与休眠时间</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//表示方块坐标</span></span><br><span class="line"><span class="type">int</span> blockX, blockY;</span><br><span class="line"><span class="comment">//定义线程休眠时间</span></span><br><span class="line"><span class="type">int</span> <span class="variable">sleepTime</span> <span class="operator">=</span> <span class="number">1000</span>;</span><br></pre></td></tr></table></figure>

<p>创建游戏运行方法<em>gameRun()</em></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">gameRun</span><span class="params">()</span>&#123;</span><br><span class="line">        randomRect();</span><br><span class="line">        <span class="comment">//初始方块坐标</span></span><br><span class="line">        blockY = <span class="number">0</span>;</span><br><span class="line">        blockX = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">26</span>; i++)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">//让方块每次下落间都有停顿</span></span><br><span class="line">                Thread.sleep(sleepTime);</span><br><span class="line"></span><br><span class="line">                <span class="comment">//判断方块是否可以下落</span></span><br><span class="line">                <span class="keyword">if</span> (<span class="literal">false</span>)&#123;</span><br><span class="line">                    <span class="comment">//将data设置为1,表示有方块占用</span></span><br><span class="line">                    <span class="comment">//changeBlockArea(blockY,blockX);</span></span><br><span class="line"></span><br><span class="line">                    <span class="comment">//循环遍历整行，判断是否可消除</span></span><br><span class="line">                    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt; i + <span class="number">4</span>; j++)&#123;</span><br><span class="line">                        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">                        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span><span class="number">1</span>; k &lt; NUMBER_X - <span class="number">1</span>; k++)&#123;</span><br><span class="line">                            <span class="keyword">if</span> (blockAreas[j][k] == <span class="number">1</span>)&#123;</span><br><span class="line">                                sum++;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="comment">//判断是否有一行可以消除</span></span><br><span class="line">                        <span class="keyword">if</span> (sum == NUMBER_X - <span class="number">2</span>)&#123;</span><br><span class="line">                            <span class="comment">//消除该行</span></span><br><span class="line">                            <span class="comment">//removeRow(j);</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">//判断游戏是否失败</span></span><br><span class="line">                    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">1</span>; l &lt; NUMBER_X - <span class="number">1</span>; l++)&#123;</span><br><span class="line">                        <span class="keyword">if</span> (blockAreas[<span class="number">3</span>][l] == <span class="number">1</span>)&#123;</span><br><span class="line">                            isGameRunning = <span class="literal">false</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    blockY++;  <span class="comment">//层数+1</span></span><br><span class="line">                    <span class="comment">//fall(blockY, blockX);  //方块下落</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (InterruptedException e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-判断方块是否能下落"><a href="#3-判断方块是否能下落" class="headerlink" title="3.判断方块是否能下落"></a>3.判断方块是否能下落</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canBlockFall</span><span class="params">(<span class="type">int</span> y, <span class="type">int</span> x)</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> <span class="number">0x8000</span>;</span><br><span class="line">    <span class="comment">//遍历4x4的方格</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span><span class="number">1</span>; j &lt; <span class="number">4</span>; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span> ((temp &amp; currentBlock) != <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="comment">//判断下一行是否有方块</span></span><br><span class="line">                <span class="keyword">if</span> (blockAreas[y + <span class="number">1</span>][x] == <span class="number">1</span>)&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            x++;</span><br><span class="line">            temp &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        y++;</span><br><span class="line">        x -= <span class="number">4</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-改变方块存储数据"><a href="#4-改变方块存储数据" class="headerlink" title="4.改变方块存储数据"></a>4.改变方块存储数据</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">changeBlockArea</span><span class="params">(<span class="type">int</span> y, <span class="type">int</span> x)</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> <span class="number">0x8000</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span><span class="number">1</span>; j &lt; <span class="number">4</span>; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span> ((temp &amp; currentBlock) != <span class="number">0</span>)&#123;</span><br><span class="line">                blockAreas[y][x] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            x++;</span><br><span class="line">            temp &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        y++;</span><br><span class="line">        x -= <span class="number">4</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5-消除方块并使上层方块掉落"><a href="#5-消除方块并使上层方块掉落" class="headerlink" title="5.消除方块并使上层方块掉落"></a>5.消除方块并使上层方块掉落</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">removeRow</span><span class="params">(<span class="type">int</span> y)</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">freshSleepTime</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> y; i &gt; <span class="number">0</span>; i--)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; NUMBER_X - <span class="number">1</span>; j++)&#123;</span><br><span class="line">            <span class="comment">//用上一行数据覆盖该行</span></span><br><span class="line">            blockAreas[i][j] = blockAreas[i - <span class="number">1</span>][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//刷新游戏区域</span></span><br><span class="line">    <span class="comment">//refreshBlock(y);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//方块加速</span></span><br><span class="line">    <span class="keyword">if</span> (sleepTime &gt; freshSleepTime)&#123;</span><br><span class="line">        sleepTime -= freshSleepTime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//累加得分</span></span><br><span class="line">    gamePointNumber += freshSleepTime;</span><br><span class="line">    gamePoint.setText(<span class="string">&quot;游戏得分：&quot;</span> + gamePointNumber);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="6-刷新上层方块"><a href="#6-刷新上层方块" class="headerlink" title="6.刷新上层方块"></a>6.刷新上层方块</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">refreshBlock</span><span class="params">(<span class="type">int</span> y)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> y; i &gt; <span class="number">0</span>; i--)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; NUMBER_X - <span class="number">1</span>; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (blockAreas[i][j] == <span class="number">1</span>)&#123;</span><br><span class="line">                textAreas[i][j].setBackground(Color.BLUE);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                textAreas[i][j].setBackground(Color.LIGHT_GRAY);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="7-上层方块掉落"><a href="#7-上层方块掉落" class="headerlink" title="7.上层方块掉落"></a>7.上层方块掉落</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fallBlock</span><span class="params">(<span class="type">int</span> y, <span class="type">int</span> x)</span>&#123;</span><br><span class="line">    <span class="comment">//清除上层方块</span></span><br><span class="line">    <span class="comment">//clearBlock(y - 1, x);</span></span><br><span class="line">    <span class="comment">//重新绘制该层方块</span></span><br><span class="line">    <span class="comment">//drawBlock(y, x);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="8-清除上层方块"><a href="#8-清除上层方块" class="headerlink" title="8.清除上层方块"></a>8.清除上层方块</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clearBlock</span><span class="params">(<span class="type">int</span> y, <span class="type">int</span> x)</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> <span class="number">0x8000</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span> ((temp &amp; blockAreas[i][j]) != <span class="number">0</span>)&#123;</span><br><span class="line">                textAreas[i][j].setBackground(Color.LIGHT_GRAY);</span><br><span class="line">            &#125;</span><br><span class="line">            x++;</span><br><span class="line">            temp &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        y++;</span><br><span class="line">        x -= <span class="number">4</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="9-重新绘制下落后的方块"><a href="#9-重新绘制下落后的方块" class="headerlink" title="9.重新绘制下落后的方块"></a>9.重新绘制下落后的方块</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawBlock</span><span class="params">(<span class="type">int</span> y, <span class="type">int</span> x)</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> <span class="number">0x8000</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span> ((temp &amp; currentBlock) != <span class="number">0</span>)&#123;</span><br><span class="line">                textAreas[i][j].setBackground(Color.BLUE);</span><br><span class="line">            &#125;</span><br><span class="line">            x++;</span><br><span class="line">            temp &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        y++;</span><br><span class="line">        x -= <span class="number">4</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>有BUG，懒得修，弃坑！！:sweat_smile::sweat_smile::sweat_smile:</p>
<h2 id="开发源码："><a href="#开发源码：" class="headerlink" title="开发源码："></a>开发源码：</h2><p><strong>無</strong></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>





</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Yux1</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
